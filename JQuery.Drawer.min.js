(function(e){var t={knobId:1,init:function(n){return this.each(function(){this.options=e.extend({},e.fn.drawer.defaults,n);var r=this,i=e(this);i.attr("data-drawer-knob-id",t.knobId++);i.on("click",null,function(){var n=e(this).attr("data-drawer-title");var s=e(e(this).attr("data-target"));var o=s.attr("data-current-knob-id");var u=e('[data-drawer-knob-id="'+o+'"]');if(s){if(u){u.removeClass(r.options.knobOnClass)}i.addClass(r.options.knobOnClass);if(o){if(i.attr("data-drawer-knob-id")==o){if(s.attr("data-drawer-state")=="close"){t._open(i,n,s,r.options)}else{t._close(i,n,s,r.options)}}else{if(this.options.onDrawerSwitch&&this.options.onDrawerSwitch!=undefined){this.options.onDrawerSwitch(s)}t._open(i,n,s,r.options)}}else{t._open(i,n,s,r.options)}}else{alert("Drawer: data-target not indicated.");return}});if(r.options.onInit&&r.options.onInit!=undefined){r.options.onInit(this)}})},_open:function(e,n,r,i){r.find(".drawer-title").first().html(n);r.attr("data-drawer-state","open");r.attr("data-current-knob-id",e.attr("data-drawer-knob-id"));if(i.openEffect==undefined){r.slideDown()}else{r.effect(i.openEffect)}r.find('[data-action="drawer-close"]').first().one("click",null,function(){t._close(e,n,r,i)});if(i.onOpen&&i.onOpen!=undefined){i.onOpen({knob:e,title:n,drawer:r})}},_close:function(e,t,n,r){e.removeClass(r.knobOnClass);n.attr("data-drawer-state","close");if(r.closeEffect==undefined){n.slideUp()}else{n.effect(r.closeEffect)}if(r.onClose&&r.onClose!=undefined){r.onClose({knob:e,title:t,drawer:n})}}};e.fn.drawer=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist!")}};e.fn.drawer.defaults={onInit:undefined,onOpen:undefined,onClose:undefined,onDrawerSwitch:undefined,openEffect:undefined,closeEffect:undefined,knobOnClass:"knob-selected"}})(jQuery)