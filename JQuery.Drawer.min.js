(function(e){"use strict";var t={onInit:function(){},onShow:function(){},onHide:function(){},container:"drawer-container",effect:"slide",direction:"up",target:undefined,onClass:"col-lg-3",targetOnClass:"col-lg-9 pull-right",style:"multi",buttonOnClass:"btn-primary",buttonOffClass:"btn-default"};e.fn.drawer=function(n){if(typeof n==="undefined"){n={}}if(this.length===0)return this;var r=this;var i=e(this).find('[data-toggle="drawer"]');var s=function(){for(var s in t){if(t.hasOwnProperty(s)){if(r.attr("data-drawer-"+s.toLowerCase())){n[s]=r.data("drawer-"+s.toLowerCase())}}}r.settings=e.extend({},t,n);i.each(function(){e(this).on("click",null,function(){var t=this;var n=o(t);if(e(n.targetDrawer).hasClass("in")){u(n)}else{a(n)}if(r.settings.style=="single"){i.each(function(){if(this!=t){u(o(this))}})}})});r.settings.onInit()};var o=function(t){var n=e(t).attr("data-direction");var i=e(t).attr("data-target");var s=e(i).parent();if(n==""){n=r.settings.direction}return{knob:t,direction:n,targetDrawer:e(t).attr("data-target"),targetContainer:s,hasContainer:s.hasClass("drawer-container"),targetDiv:e(r.settings.target)}};var u=function(t){e(t.knob).removeClass(r.settings.buttonOnClass);e(t.knob).addClass(r.settings.buttonOffClass);e(t.targetDrawer).removeClass("in");if(t.hasContainer){e(t.targetDrawer).hide()}else{e(t.targetDrawer).removeClass(r.settings.onClass);e(t.targetDrawer).hide(r.settings.effect,{direction:t.direction})}if(e(r).find(".drawer.in").length==0){if(t.hasContainer){e(t.targetContainer).hide(r.settings.effect,{direction:t.direction});e(t.targetContainer).removeClass(r.settings.onClass)}e(t.targetDiv).removeClass(r.settings.targetOnClass);r.settings.onHide()}};var a=function(t){e(t.targetDiv).addClass(r.settings.targetOnClass);e(t.knob).removeClass(r.settings.buttonOffClass);e(t.knob).addClass(r.settings.buttonOnClass);e(t.targetDrawer).addClass("in");if(t.hasContainer){e(t.targetContainer).addClass(r.settings.onClass);e(t.targetContainer).show(r.settings.effect,{direction:t.direction});e(t.targetDrawer).show()}else{e(t.targetDrawer).addClass(r.settings.onClass);e(t.targetDrawer).show(r.settings.effect,{direction:t.direction})}r.settings.onShow(t.targetDrawer)};s();return r}})(jQuery)
